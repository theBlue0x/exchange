<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Blue0x Decentralized Exchange">
  <link rel="shortcut icon" href="img/favicon.ico">
  <title>Blue0x | EXCHANGE</title>
  <link href="css/bootstrap.min.css" rel="stylesheet">
  <link href="css/bootstrap-reset.css" rel="stylesheet">
  <link href="assets/font-awesome/css/font-awesome.min.css" rel="stylesheet" />
  <link href="css/style.min.css" rel="stylesheet">
  <link href="css/style-responsive.css" rel="stylesheet" />
  <script>
  function login() {
    var Account = document.getElementById('user_entered_account_number').value;
    if(!Account) {
      document.getElementById("user_entered_account_numberErrorMessage").innerHTML = "<p>Account Number Required</p>";
    } else {
      var currentRSAccountNumber = $('#user_entered_account_number').val();
      $.post(Constants.apiUrl, {
        requestType: 'getAccount',
        account: $('#user_entered_account_number').val(),
        includeEffectiveBalance: "true"
      }, function(result) {
        if(result.errorDescription == 'Unknown account') {
          document.getElementById("user_entered_account_numberErrorMessage").innerHTML = "<p class=\"validation_message\">New or invalid BLX account.  New BLX accounts must first make an outgoing transaction from the Blue0x wallet.</p>";
        } else {
          var balance = result.balanceNQT / 100000000;
          sessionStorage.setItem("accountRS", result.accountRS);
          sessionStorage.setItem("accountBalance", balance);
          var replace_loginResult = '';
          replace_loginResult += '<div class="media-body">';
          replace_loginResult += '<p>You have logged in with the following account:</p>';
          replace_loginResult += '<p class="p-head">Account ID</p>';
          replace_loginResult += '<p>' + result.accountRS + '</p>';
          replace_loginResult += '</div>';
          replace_loginResult += '<div class="media-body">';
          replace_loginResult += '<p class="p-head">BLX Balance</p>';
          replace_loginResult += '<p>' + balance.toLocaleString() + ' BLX </p>';
          replace_loginResult += '</div>';
          document.getElementById("loginResult").innerHTML = replace_loginResult;
        }
      }, "json");
      $.post(Constants.apiUrl, {
        requestType: 'getAccountCurrencies',
        account: currentRSAccountNumber,
        currency: Constants.USDXId
      }, function(coinquery) {
        if(coinquery == '{}') {
          var replace_USDXAccountBalance = '';
          replace_USDXAccountBalance += '<div class="media-body">';
          replace_USDXAccountBalance += '<p class="p-head">USDX Balance</p>';
          replace_USDXAccountBalance += '<p>0 USDX</p>';
          replace_USDXAccountBalance += '</div>';
          document.getElementById("USDXAccountBalance").innerHTML = replace_USDXAccountBalance;
        } else {
          var USDXAccountBalance = coinquery.units;
          var convertedUSDXAccountBalance = USDXAccountBalance / 100;
          var replace_USDXAccountBalance = '';
          replace_USDXAccountBalance += '<div class="media-body">';
          replace_USDXAccountBalance += '<p class="p-head">USDX Balance</p>';
          replace_USDXAccountBalance += '<p>' + convertedUSDXAccountBalance.toLocaleString() + ' USDX</p>';
          replace_USDXAccountBalance += '</div>';
          document.getElementById("USDXAccountBalance").innerHTML = replace_USDXAccountBalance;
        }
      }, "json");
      $.post(Constants.apiUrl, {
        requestType: 'getAccountCurrencies',
        account: currentRSAccountNumber,
        currency: Constants.AUDXId
      }, function(coinquery) {
        if(coinquery == '{}') {
          var replace_AUDXAccountBalance = '';
          replace_AUDXAccountBalance += '<div class="media-body">';
          replace_AUDXAccountBalance += '<p class="p-head">AUDX Balance</p>';
          replace_AUDXAccountBalance += '<p>0 AUDX</p>';
          replace_AUDXAccountBalance += '</div>';
          document.getElementById("AUDXAccountBalance").innerHTML = replace_AUDXAccountBalance;
        } else {
          var AUDXAccountBalance = coinquery.units;
          var convertedAUDXAccountBalance = AUDXAccountBalance / 100;
          var replace_AUDXAccountBalance = '';
          replace_AUDXAccountBalance += '<div class="media-body">';
          replace_AUDXAccountBalance += '<p class="p-head">AUDX Balance</p>';
          replace_AUDXAccountBalance += '<p>' + convertedAUDXAccountBalance.toLocaleString() + ' AUDX</p>';
          replace_AUDXAccountBalance += '</div>';
          document.getElementById("AUDXAccountBalance").innerHTML = replace_AUDXAccountBalance;
        }
      }, "json");
      $.post(Constants.apiUrl, {
        requestType: 'getAccountCurrencies',
        account: currentRSAccountNumber,
        currency: Constants.CADXId
      }, function(coinquery) {
        if(coinquery == '{}') {
          var replace_CADXAccountBalance = '';
          replace_CADXAccountBalance += '<div class="media-body">';
          replace_CADXAccountBalance += '<p class="p-head">CADX Balance</p>';
          replace_CADXAccountBalance += '<p>0 CADX</p>';
          replace_CADXAccountBalance += '</div>';
          document.getElementById("CADXAccountBalance").innerHTML = replace_CADXAccountBalance;
        } else {
          var CADXAccountBalance = coinquery.units;
          var convertedCADXAccountBalance = CADXAccountBalance / 100;
          var replace_CADXAccountBalance = '';
          replace_CADXAccountBalance += '<div class="media-body">';
          replace_CADXAccountBalance += '<p class="p-head">CADX Balance</p>';
          replace_CADXAccountBalance += '<p>' + convertedCADXAccountBalance.toLocaleString() + ' CADX</p>';
          replace_CADXAccountBalance += '</div>';
          document.getElementById("CADXAccountBalance").innerHTML = replace_CADXAccountBalance;
        }
      }, "json");
      $.post(Constants.apiUrl, {
        requestType: 'getAccountCurrencies',
        account: currentRSAccountNumber,
        currency: Constants.CHFXId
      }, function(coinquery) {
        if(coinquery == '{}') {
          var replace_CHFXAccountBalance = '';
          replace_CHFXAccountBalance += '<div class="media-body">';
          replace_CHFXAccountBalance += '<p class="p-head">CHFX Balance</p>';
          replace_CHFXAccountBalance += '<p>0 CHFX</p>';
          replace_CHFXAccountBalance += '</div>';
          document.getElementById("CHFXAccountBalance").innerHTML = replace_CHFXAccountBalance;
        } else {
          var CHFXAccountBalance = coinquery.units;
          var convertedCHFXAccountBalance = CHFXAccountBalance / 100;
          var replace_CHFXAccountBalance = '';
          replace_CHFXAccountBalance += '<div class="media-body">';
          replace_CHFXAccountBalance += '<p class="p-head">CHFX Balance</p>';
          replace_CHFXAccountBalance += '<p>' + convertedCHFXAccountBalance.toLocaleString() + ' CHFX</p>';
          replace_CHFXAccountBalance += '</div>';
          document.getElementById("CHFXAccountBalance").innerHTML = replace_CHFXAccountBalance;
        }
      }, "json");
      $.post(Constants.apiUrl, {
        requestType: 'getAccountCurrencies',
        account: currentRSAccountNumber,
        currency: Constants.CNYXId
      }, function(coinquery) {
        if(coinquery == '{}') {
          var replace_CNYXAccountBalance = '';
          replace_CNYXAccountBalance += '<div class="media-body">';
          replace_CNYXAccountBalance += '<p class="p-head">CNYX Balance</p>';
          replace_CNYXAccountBalance += '<p>0 CNYX</p>';
          replace_CNYXAccountBalance += '</div>';
          document.getElementById("CNYXAccountBalance").innerHTML = replace_CNYXAccountBalance;
        } else {
          var CNYXAccountBalance = coinquery.units;
          var convertedCNYXAccountBalance = CNYXAccountBalance / 100;
          var replace_CNYXAccountBalance = '';
          replace_CNYXAccountBalance += '<div class="media-body">';
          replace_CNYXAccountBalance += '<p class="p-head">CNYX Balance</p>';
          replace_CNYXAccountBalance += '<p>' + convertedCNYXAccountBalance.toLocaleString() + ' CNYX</p>';
          replace_CNYXAccountBalance += '</div>';
          document.getElementById("CNYXAccountBalance").innerHTML = replace_CNYXAccountBalance;
        }
      }, "json");
      $.post(Constants.apiUrl, {
        requestType: 'getAccountCurrencies',
        account: currentRSAccountNumber,
        currency: Constants.EURXId
      }, function(coinquery) {
        if(coinquery == '{}') {
          var replace_EURXAccountBalance = '';
          replace_EURXAccountBalance += '<div class="media-body">';
          replace_EURXAccountBalance += '<p class="p-head">EURX Balance</p>';
          replace_EURXAccountBalance += '<p>0 EURX</p>';
          replace_EURXAccountBalance += '</div>';
          document.getElementById("EURXAccountBalance").innerHTML = replace_EURXAccountBalance;
        } else {
          var EURXAccountBalance = coinquery.units;
          var convertedEURXAccountBalance = EURXAccountBalance / 100;
          var replace_EURXAccountBalance = '';
          replace_EURXAccountBalance += '<div class="media-body">';
          replace_EURXAccountBalance += '<p class="p-head">EURX Balance</p>';
          replace_EURXAccountBalance += '<p>' + convertedEURXAccountBalance.toLocaleString() + ' EURX</p>';
          replace_EURXAccountBalance += '</div>';
          document.getElementById("EURXAccountBalance").innerHTML = replace_EURXAccountBalance;
        }
      }, "json");
      $.post(Constants.apiUrl, {
        requestType: 'getAccountCurrencies',
        account: currentRSAccountNumber,
        currency: Constants.GBPXId
      }, function(coinquery) {
        if(coinquery == '{}') {
          var replace_GBPXAccountBalance = '';
          replace_GBPXAccountBalance += '<div class="media-body">';
          replace_GBPXAccountBalance += '<p class="p-head">GBPX Balance</p>';
          replace_GBPXAccountBalance += '<p>0 GBPX</p>';
          replace_GBPXAccountBalance += '</div>';
          document.getElementById("GBPXAccountBalance").innerHTML = replace_GBPXAccountBalance;
        } else {
          var GBPXAccountBalance = coinquery.units;
          var convertedGBPXAccountBalance = GBPXAccountBalance / 100;
          var replace_GBPXAccountBalance = '';
          replace_GBPXAccountBalance += '<div class="media-body">';
          replace_GBPXAccountBalance += '<p class="p-head">GBPX Balance</p>';
          replace_GBPXAccountBalance += '<p>' + convertedGBPXAccountBalance.toLocaleString() + ' GBPX</p>';
          replace_GBPXAccountBalance += '</div>';
          document.getElementById("GBPXAccountBalance").innerHTML = replace_GBPXAccountBalance;
        }
      }, "json");
      $.post(Constants.apiUrl, {
        requestType: 'getAccountCurrencies',
        account: currentRSAccountNumber,
        currency: Constants.IQDXId
      }, function(coinquery) {
        if(coinquery == '{}') {
          var replace_IQDXAccountBalance = '';
          replace_IQDXAccountBalance += '<div class="media-body">';
          replace_IQDXAccountBalance += '<p class="p-head">IQDX Balance</p>';
          replace_IQDXAccountBalance += '<p>0 IQDX</p>';
          replace_IQDXAccountBalance += '</div>';
          document.getElementById("IQDXAccountBalance").innerHTML = replace_IQDXAccountBalance;
        } else {
          var IQDXAccountBalance = coinquery.units;
          var convertedIQDXAccountBalance = IQDXAccountBalance / 100;
          var replace_IQDXAccountBalance = '';
          replace_IQDXAccountBalance += '<div class="media-body">';
          replace_IQDXAccountBalance += '<p class="p-head">IQDX Balance</p>';
          replace_IQDXAccountBalance += '<p>' + convertedIQDXAccountBalance.toLocaleString() + ' IQDX</p>';
          replace_IQDXAccountBalance += '</div>';
          document.getElementById("IQDXAccountBalance").innerHTML = replace_IQDXAccountBalance;
        }
      }, "json");
      $.post(Constants.apiUrl, {
        requestType: 'getAccountCurrencies',
        account: currentRSAccountNumber,
        currency: Constants.IRRXId
      }, function(coinquery) {
        if(coinquery == '{}') {
          var replace_IRRXAccountBalance = '';
          replace_IRRXAccountBalance += '<div class="media-body">';
          replace_IRRXAccountBalance += '<p class="p-head">IRRX Balance</p>';
          replace_IRRXAccountBalance += '<p>0 IRRX</p>';
          replace_IRRXAccountBalance += '</div>';
          document.getElementById("IRRXAccountBalance").innerHTML = replace_IRRXAccountBalance;
        } else {
          var IRRXAccountBalance = coinquery.units;
          var convertedIRRXAccountBalance = IRRXAccountBalance / 100;
          var replace_IRRXAccountBalance = '';
          replace_IRRXAccountBalance += '<div class="media-body">';
          replace_IRRXAccountBalance += '<p class="p-head">IRRX Balance</p>';
          replace_IRRXAccountBalance += '<p>' + convertedIRRXAccountBalance.toLocaleString() + ' IRRX</p>';
          replace_IRRXAccountBalance += '</div>';
          document.getElementById("IRRXAccountBalance").innerHTML = replace_IRRXAccountBalance;
        }
      }, "json");
      $.post(Constants.apiUrl, {
        requestType: 'getAccountCurrencies',
        account: currentRSAccountNumber,
        currency: Constants.JPYXId
      }, function(coinquery) {
        if(coinquery == '{}') {
          var replace_JPYXAccountBalance = '';
          replace_JPYXAccountBalance += '<div class="media-body">';
          replace_JPYXAccountBalance += '<p class="p-head">JPYX Balance</p>';
          replace_JPYXAccountBalance += '<p>0 JPYX</p>';
          replace_JPYXAccountBalance += '</div>';
          document.getElementById("JPYXAccountBalance").innerHTML = replace_JPYXAccountBalance;
        } else {
          var JPYXAccountBalance = coinquery.units;
          var convertedJPYXAccountBalance = JPYXAccountBalance / 100;
          var replace_JPYXAccountBalance = '';
          replace_JPYXAccountBalance += '<div class="media-body">';
          replace_JPYXAccountBalance += '<p class="p-head">JPYX Balance</p>';
          replace_JPYXAccountBalance += '<p>' + convertedJPYXAccountBalance.toLocaleString() + ' JPYX</p>';
          replace_JPYXAccountBalance += '</div>';
          document.getElementById("JPYXAccountBalance").innerHTML = replace_JPYXAccountBalance;
        }
      }, "json");
      $.post(Constants.apiUrl, {
        requestType: 'getAccountCurrencies',
        account: currentRSAccountNumber,
        currency: Constants.NZDXId
      }, function(coinquery) {
        if(coinquery == '{}') {
          var replace_NZDXAccountBalance = '';
          replace_NZDXAccountBalance += '<div class="media-body">';
          replace_NZDXAccountBalance += '<p class="p-head">NZDX Balance</p>';
          replace_NZDXAccountBalance += '<p>0 NZDX</p>';
          replace_NZDXAccountBalance += '</div>';
          document.getElementById("NZDXAccountBalance").innerHTML = replace_NZDXAccountBalance;
        } else {
          var NZDXAccountBalance = coinquery.units;
          var convertedNZDXAccountBalance = NZDXAccountBalance / 100;
          var replace_NZDXAccountBalance = '';
          replace_NZDXAccountBalance += '<div class="media-body">';
          replace_NZDXAccountBalance += '<p class="p-head">NZDX Balance</p>';
          replace_NZDXAccountBalance += '<p>' + convertedNZDXAccountBalance.toLocaleString() + ' NZDX</p>';
          replace_NZDXAccountBalance += '</div>';
          document.getElementById("NZDXAccountBalance").innerHTML = replace_NZDXAccountBalance;
        }
      }, "json");
      $.post(Constants.apiUrl, {
        requestType: 'getAccountCurrencies',
        account: currentRSAccountNumber,
        currency: Constants.RUBXId
      }, function(coinquery) {
        if(coinquery == '{}') {
          var replace_RUBXAccountBalance = '';
          replace_RUBXAccountBalance += '<div class="media-body">';
          replace_RUBXAccountBalance += '<p class="p-head">RUBX Balance</p>';
          replace_RUBXAccountBalance += '<p>0 RUBX</p>';
          replace_RUBXAccountBalance += '</div>';
          replace_RUBXAccountBalance += '</br>';
          replace_RUBXAccountBalance += '<a class="btn btn-info" href="markets.html" role="button">View Markets</a>&nbsp;&nbsp;<a class="btn btn-info" href="swap.html" role="button">Quick Swap</a>';
          document.getElementById("RUBXAccountBalance").innerHTML = replace_RUBXAccountBalance;
        } else {
          var RUBXAccountBalance = coinquery.units;
          var convertedRUBXAccountBalance = RUBXAccountBalance / 100;
          var replace_RUBXAccountBalance = '';
          replace_RUBXAccountBalance += '<div class="media-body">';
          replace_RUBXAccountBalance += '<p class="p-head">RUBX Balance</p>';
          replace_RUBXAccountBalance += '<p>' + convertedRUBXAccountBalance.toLocaleString() + ' RUBX</p>';
          replace_RUBXAccountBalance += '</div>';
          replace_RUBXAccountBalance += '</br>';
          replace_RUBXAccountBalance += '<a class="btn btn-info" href="markets.html" role="button">View Markets</a>&nbsp;&nbsp;<a class="btn btn-info" href="swap.html" role="button">Quick Swap</a>';
          document.getElementById("RUBXAccountBalance").innerHTML = replace_RUBXAccountBalance;
        }
      }, "json");

    }
  };
  </script>
  <script>
  function loadAccountInfo() {
    if(sessionStorage.getItem("loginStatus") == "loggedin") {
      window.location.href = "account_details.html";
    }
  };
  </script>
</head>

<body class="full-width" onload="loadAccountInfo();">
  <section id="container">
    <script type="text/javascript" src="js/menu.js"></script>
    <section id="main-content">
      <section class="wrapper">
        <div class="row">
          <div class="col-lg-12">
            <section class="panel" style="color:#c1c1c1;">
              <header class="panel-heading"> <span>Log In</span> </header>
              <div class="panel-body">
                <div id="loginResult">
                  <p>Enter your BLX account number below to display your account balances.</p>
                  <div class="form-group">
                    <label for="user_entered_account_number">BLX Account Number:</span>
                    </label>
                    <div class="iconic-input"> <i class="fa fa-bars"></i>
                      <input type="text" class="form-control" placeholder="required" id="user_entered_account_number">
                      <div id="user_entered_account_numberErrorMessage"></div>
                    </div>
                  </div>
                  <div id="loginButtonSection">
                    <button type="button" id="loginButton" class="btn btn-info" onclick="login();">Login</button>
                  </div>
                </div>
                <div id="USDXAccountBalance"> </div>
                <div id="AUDXAccountBalance"> </div>
                <div id="CADXAccountBalance"> </div>
                <div id="CHFXAccountBalance"> </div>
                <div id="CNYXAccountBalance"> </div>
                <div id="EURXAccountBalance"> </div>
                <div id="GBPXAccountBalance"> </div>
                <div id="IQDXAccountBalance"> </div>
                <div id="IRRXAccountBalance"> </div>
                <div id="JPYXAccountBalance"> </div>
                <div id="NZDXAccountBalance"> </div>
                <div id="RUBXAccountBalance"> </div>
            </section>
          </div>
        </div>
      </section>
      </div>
    </section>
  </section>
  <script src="js/jquery.min.js"></script>
  <script src="js/bootstrap.min.js"></script>
  <script src="js/constants.js"></script>
  <script src="js/freemarket_scripts.js"></script>
</body>

</html>